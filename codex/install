#!/usr/bin/env zsh

BASE_DIR=$( cd $( dirname ${(%):-%x} ) &> /dev/null && pwd )
source ${BASE_DIR}/../lib/colors

CODEX_DIR="${HOME}/.codex"

# Create ~/.codex directory if it doesn't exist
if [[ ! -d "$CODEX_DIR" ]]; then
    echo -e "${GREEN}Creating${NC} ~/.codex directory"
    mkdir -p "$CODEX_DIR"
fi

# Install config.toml (only if it doesn't exist - don't overwrite)
if [[ -f "${CODEX_DIR}/config.toml" ]]; then
    echo -e "${GREEN}Already exists${NC} ~/.codex/config.toml (not overwriting)"
else
    echo -e "${GREEN}Installing${NC} ~/.codex/config.toml"
    cp "${BASE_DIR}/config.toml" "${CODEX_DIR}/config.toml"
fi
